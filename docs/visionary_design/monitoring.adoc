= System Monitoring and Failure Detection

[width="100%",options="header"]
|====================
|Title|Authors|Version
|System Monitoring and Failure Detection|@er1cthe0ne|0.1
|====================

// == Introduction

// TBD...

== Architecture

The following diagram illustrates the architecture of the monitoring plane. It also outline the communication with Control plane and Compute Host Machine.

image::images/monitoring_plane.GIF["Monitoring Plane Architecture", width=1024, link="images/monitoring_plane.GIF"]

== Background

=== Netdata

=== Prometheus

* Short introduction...
* How to

=== Grafana

* Short introduction...
* How to set up DataSource and Dashboard....
* Some beautiful Grafana diagram as an example...

== Design

* Host Netdata Health
** what happen if Host machine goes down? 
** Need to leverage Prometheus for host heart beat 
* Host Agents Health 
* Data Plane Health from TransitD for transit switch and router
* Host Machine Health, host networking stack/interface/utilization
* Tenant VMs/Containers Health

== Open Questions

* What kinds of metrix to collect on the host machine?
* What is the amount and frequency of data (in MB) to be collected and stored on Host Netdata?
* What is the amount and frequency of data (in MB) to be sent to Prometheus?

== Proposed Changes

The System Monitoring and Failure Detection system would requires the following changes:

[width="100%",options="header"]
|====================
|Index|Feature Description|Priority|Note
|1|Netdata research and investigation |P0|
|2|Netdata implementation .3+^.^|P0|
|2.1|work item 1|
|2.2|work item 2|
|3|Update Node Manager .3+^.^|P0|
|3.1|work item 1|
|3.2|work item 2|
|4|E2E latency measurement for monitoring plane|P0|
|5|Performance test to get scalability limit for monitoring data|P1|
|====================
